SELECT * FROM USERS;
SELECT * FROM AUTHORITIES;
select * from tbl_member;
select * from TBL_MEMBER_AUTH;

--------------------------------------------------------------------------------

CREATE TABLE USERS(
    USERNAME VARCHAR2(50) NOT NULL PRIMARY KEY,
    PASSWORD VARCHAR2(50) NOT NULL,
    ENABLED CHAR(1) DEFAULT '1');
    
CREATE TABLE AUTHORITIES (
    USERNAME VARCHAR2(50) NOT NULL,
    AUTHORITY VARCHAR2(50) NOT NULL,
    CONSTRAINT FK_AUTHORITIES_USERS FOREIGN KEY(USERNAME) REFERENCES USERS(USERNAME));
    
CREATE UNIQUE INDEX IX_AUTH_USERNAME ON AUTHORITIES (USERNAME, AUTHORITY);

INSERT INTO USERS (USERNAME, PASSWORD) VALUES ('USER00','PW00');
INSERT INTO USERS (USERNAME, PASSWORD) VALUES ('MEMBER00','PW00');
INSERT INTO USERS (USERNAME, PASSWORD) VALUES ('ADMIN00','PW00');

INSERT INTO AUTHORITIES (USERNAME, AUTHORITY) VALUES ('USER00','ROLE_USER');
INSERT INTO AUTHORITIES (USERNAME, AUTHORITY) VALUES ('MEMBER00','ROLE_MANAGER');
INSERT INTO AUTHORITIES (USERNAME, AUTHORITY) VALUES ('ADMIN00','ROLE_MANAGER');
INSERT INTO AUTHORITIES (USERNAME, AUTHORITY) VALUES ('ADMIN00','ROLE_ADMIN');

CREATE TABLE TBL_MEMBER(
    USERID VARCHAR2(50) NOT NULL PRIMARY KEY,
    USERPW VARCHAR2(100) NOT NULL,
    USERNAME VARCHAR2(100) NOT NULL,
    REGDATE DATE DEFAULT SYSDATE,
    UPDATEDATE DATE DEFAULT SYSDATE,
    ENABLED CHAR(1) DEFAULT '1'
);

CREATE TABLE TBL_MEMBER_AUTH(
    USERID VARCHAR2(50) NOT NULL,
    AUTH VARCHAR2(50) NOT NULL,
    CONSTRAINT FK_MEMBER_USERS FOREIGN KEY(USERID) REFERENCES TBL_MEMBER(USERID)
);
